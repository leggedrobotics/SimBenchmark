#!/usr/bin/env bash

DT_ARRAY=( "0.00001" "0.00004" "0.0001" "0.0004" "0.001" "0.004" "0.01" "0.04" "0.1" )

# options
BENCHMARK_RAISIM="@BENCHMARK_RAISIM@"
BENCHMARK_BULLET="@BENCHMARK_BULLET@"
BENCHMARK_ODE="@BENCHMARK_ODE@"
BENCHMARK_MUJOCO="@BENCHMARK_MUJOCO@"

# benchmark test
for dt in ${DT_ARRAY[@]}
do
    # rai sim
    if [ "$BENCHMARK_RAISIM" == "ON" ] ; then
        ./rollingRaiSim $dt
    fi

    # bullet sim
    if [ "$BENCHMARK_BULLET" == "ON" ] ; then
        for solver in seqImp nncg pgs dantzig #lemke
        do
            ./rollingBulletSim $dt $solver
        done
    fi

    # ode sim
    if [ "$BENCHMARK_ODE" == "ON" ] ; then
        for solver in std quick
        do
            ./rollingODESim $dt $solver
        done
    fi

    # mujoco sim
    if [ "$BENCHMARK_MUJOCO" == "ON" ] ; then
        for solver in pgs cg newton
        do
            ./rollingMuJoCoSim $dt $solver
        done
    fi
done