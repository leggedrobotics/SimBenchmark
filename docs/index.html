---
layout: default
---
<style>
    * {
        box-sizing: border-box;
    }

    .column {
        float: left;
        width: 50%;
        padding: 5px;
    }

    /* Clearfix (clear floats) */
    .row::after {
        content: "";
        clear: both;
        display: table;
    }

    img {
        display: block;
        margin-left: auto;
        margin-right: auto;
    }
</style>

<h1>SimBenchmark</h1>

<p>
    SimBenchmark is a project for benchmark of rigid body simulators with contacts.
</p>

<h2>Motivation and Approach</h2>

<p>
    Solving contact dynamics is crucial for model based control and planning of legged robots since the robots are driven by the contact force generated by feet-terrain interaction.
    A number of rigid body simulators with contact solver has been introduced to the society and several survey or benchmark was reported to help researcher to select best one for their research.
    According to <a href="https://arxiv.org/pdf/1402.7050.pdf">a survey report</a>, the most important criteria for choosing a simulator for legged robot research is simulation close to reality and speed of the software.

    <img src="./img/anymal-walking.gif" alt="anymal-walking-raisim">
</p>
<p>
    However due to its intractability of solving contact dynamics, rigid body simulators inevitably undergo the trade-off between efficiency and realistic solution.
    Furthermore several state-of-the-art simulators sacrifices reality of the simulation by relaxation of contact dynacmics constraints in order to make the simulation efficient: One common approach is relaxing Coulomb's friction cone constraint or Signorini condition(hard-contact constraint).

<!-- <div class="row"> -->
    <!-- <div class="column"> -->
        <!-- <img src="./img/mujoco-humanoid.png"> -->
        <!--<figcaption>ANYmal PD control simulation (articulated robot system simulation)</figcaption>-->
    <!-- </div> -->
    <!-- <div class="column"> -->
        <!-- <img src="./img/mujoco-humanoid2.png"> -->
        <!--<figcaption>Zero gravity demo (Single body objects collision simulation)</figcaption>-->
    <!-- </div> -->
<!-- </div> -->
</p>
<p>
    In this benchmark test, we consider this trade-off between accuracy and speed to provide more reliable result. Also, we provide comparison between numerical solution by simulation and analytical solution by solving dynamics when it is applicable.
    Although our lack of knowledge on real physics, as Newton dynamics and Coulomb's friction model are the most well-established model, it is reasonable approach for benchmark.
</p>

<h2>List of Simulators</h2>

<p>
    The list of the simulators is as follows:
<ul>
    <li>RaiSim (unreleased)
        <ul><li><a href="about/raisim.html"><b>What is RaiSim?</b></a></li></ul>
    </li>
    <li><a href="http://bulletphysics.org/">Bullet Physics</a></li>
    <li><a href="http://www.ode.org/">Open Dynamics Engine <i>(ODE)</i></a></li>
    <li><a href="http://mujoco.org/">Multi-Joint dynamics with Contact <i>(MuJoCo)</i></a></li>
    <li><a href="https://dartsim.github.io/">Dynamic Animation and Robotics Toolkit <i>(DART Sim)</i></a></li>
</ul>
Read <a href="about/sims.html">this page</a> for more details.
</p>

<h2>Methodology</h2>

<blockquote>
    <p>
        In this benchmark we measure the accuracy of the contact solvers and integrators in terms of realistic simulation.
        Assuming no modeling error, it is reasonable to compare the numerical solution of simulation with analytical solution when the analytical solution is applicable.
    </p>

    <p>
        However, it is challenging to find analytical solution of position or velocity for complex systems.
        In these cases, we investigates if the numerical solution violates constraints or physics in quantitative manner.
        One candidate is measuring penetration error which should be zero in hard-contacts or checking the system preserves total energy or linear momentum that is crucial to stable simulation.
    </p>

    <p>
        In general, the numerical solution of physical quantity is rely on time-step and the number of iterations of iterative contact solvers.
        Therefore we considered speed-accuracy trade-off.
        In summary, better curves locate upper-right side than others in the accuracy-speed plots.
    </p>
</blockquote>

More details of benchmark methodology is <a href="about/methodology.html">here</a>.

<h2>Test results</h2>

<p>
<ul>
    <li><a href="rolling/rolling.html">Rolling test</a>: friction model test</li>
    <li><a href="bouncing/bouncing.html">Bouncing test</a>: single-body elastic/inelastic collision test</li>
    <li><a href="666/666.html">666 balls test</a>: single-body hard contact test</li>
    <li><a href="666/666-elastic.html">Elastic 666 balls test</a>: single-body energy test</li>
    <li><a href="anymal/anymal.html">ANYmal PD control test</a>: articulated-robot-system speed test</li>
    <li><a href="anymal-momentum/anymal-momentum.html">ANYmal zero gravity test</a>: articulated-robot-system momentum test</li>
    <li><a href="anymal-energy/anymal-energy.html">ANYmal free drop test</a>: articulated-robot-system energy test</li>
</ul>
</p>

<p>
<table style="width:100%">
    <tr>
        <th>Sim</th>
        <th>Rolling</th>
        <th>Bouncing</th>
        <th>666</th>
        <th>Elastic 666</th>
        <th>ANYmal PD</th>
        <th>ANYmal zero g</th>
        <th>ANYmal free drop</th>
    </tr>
    <tr>
        <td>RaiSim</td>
        <td><font color="green"><b>+++</b></font></td>
        <td><font color="green"><b>+++</b></font></td>
        <td><font color="green"><b>++++</b></font></td>
        <td><font color="green"><b>++</b></font></td>
        <td><font color="green"><b>+++++</b></font></td>
        <td><font color="green"><b>+++++</b></font></td>
        <td>+++</td>
    </tr>
    <tr>
        <td>Bullet</td>
        <td><font color="green"><b>+++</b></font></td>
        <td><font color="red">-</font></td>
        <td>+++</td>
        <td><font color="red">-</font></td>
        <td>+++</td>
        <td>+++</td>
        <td>+</td>
    </tr>
    <tr>
        <td>ODE</td>
        <td><font color="red">-</font></td>
        <td>++</td>
        <td>++</td>
        <td>+</td>
        <td>+</td>
        <td>+</td>
        <td>+</td>
    </tr>
    <tr>
        <td>MuJoCo</td>
        <td>+</td>
        <td><font color="red">-</font></td>
        <td>+</td>
        <td><font color="red">-</font></td>
        <td>++++</td>
        <td>++++</td>
        <td><font color="green"><b>++++</b></font> (RK4)<br>
            ++ (Euler)
        </td>
    </tr>
    <tr>
        <td>DART</td>
        <td><font color="red">-</font></td>
        <td><font color="red">-</font></td>
        <td><font color="red">x</font></td>
        <td><font color="red">x</font></td>
        <td>++</td>
        <td>+</td>
        <td>+</td>
    </tr>
</table>
</p>

<ul>
    <li>more + is better
    <li><font color="green"><b>+</b></font>: best results
    <li><font color="red">-</font>: cannot simulate due to inaccurate model or software bug
    <li><font color="red">x</font>: simulation fails due to a software error
</ul>

<hr>

<!--<h2>Conclusion</h2>-->

<h2>Commentary</h2>

<p>
    If you want to contribute to the project or have any concern, please contact <a href="mailto:kangd@ethz.ch">Dongho Kang</a>.
</p>
